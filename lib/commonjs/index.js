"use strict";require("react");var e=require("react-native"),n=require("twrnc"),o=require("./components/ChatBubble/ChatBubble.js"),r=require("./components/ChatInput/ChatInput.js"),t=require("./components/MediaViewer/MediaViewer.js"),s=require("./components/TypingComponent/TypingIndicator.js"),i=require("./context/AudioContext.js"),a=require("./context/ChatContext.js"),d=require("react/jsx-runtime");const c=()=>{const{messages:i,currentUserId:c,onMessageLongPress:u,mediaUrl:m,setMediaUrl:C,setIsVideoPlaying:I,typingUsers:l,onSendMessage:g,onTypingStart:p,onTypingEnd:x,onAttachmentPress:h,onAudioRecordEnd:j,onAudioRecordStart:v,onCameraPress:P,renderCustomInput:U,CustomEmojiIcon:y,CustomAttachmentIcon:q,CustomCameraIcon:A,CustomMicrophoneIcon:S,CustomSendIcon:w,CustomFileIcon:M,CustomImagePreview:E,CustomVideoPreview:T}=a.useChatContext();return d.jsxs(e.View,{style:n`flex-1 px-2 pb-4 gap-2 relative`,children:[d.jsx(e.FlatList,{data:i,keyExtractor:e=>e.id,renderItem:({item:e,index:n})=>d.jsx(o,{message:e,isCurrentUser:e.senderId===c,onLongPress:()=>u?.(e),isFirstInSequence:n===i.length-1||i[n+1]?.senderId!==e.senderId}),ListHeaderComponent:d.jsx(s.TypingIndicator,{typingUsers:l||[],currentUserId:c}),showsVerticalScrollIndicator:!1,inverted:!0}),U?U():d.jsx(r,{onSendMessage:g,onTypingStart:p,onTypingEnd:x,onAttachmentPress:h,onAudioRecordEnd:j,onAudioRecordStart:v,onCameraPress:P,CustomEmojiIcon:y,CustomAttachmentIcon:q,CustomCameraIcon:A,CustomMicrophoneIcon:S,CustomSendIcon:w,CustomFileIcon:M,CustomImagePreview:E,CustomVideoPreview:T}),d.jsx(t,{imageUrl:m.imageUrl,videoUrl:m.videoUrl,onClose:()=>{C({imageUrl:"",videoUrl:""}),I(!1)}})]})};module.exports=e=>d.jsx(i.AudioProvider,{children:d.jsx(a.ChatProvider,{...e,children:d.jsx(c,{})})});
//# sourceMappingURL=index.js.map
