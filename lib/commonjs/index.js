"use strict";require("react");var e=require("react-native"),n=require("twrnc"),r=require("./components/ChatBubble/ChatBubble.js"),t=require("./components/ChatInput/ChatInput.js"),o=require("./components/MediaViewer/MediaViewer.js"),s=require("./components/TypingComponent/TypingIndicator.js"),i=require("./context/AudioContext.js"),a=require("./context/ChatContext.js"),d=require("react/jsx-runtime");const c=()=>{const{messages:i,currentUserId:c,onMessageLongPress:u,mediaUrl:m,setMediaUrl:C,setIsVideoPlaying:l,typingUsers:p,onSendMessage:I,onTypingStart:g,onTypingEnd:x,onAttachmentPress:h,onAudioRecordEnd:j,onAudioRecordStart:U,onCameraPress:y,renderCustomInput:q,CustomEmojiIcon:A,CustomAttachmentIcon:S,CustomCameraIcon:v,CustomMicrophoneIcon:P,CustomSendIcon:M}=a.useChatContext();return d.jsxs(e.View,{style:n`flex-1 px-2 pb-4 gap-2 relative`,children:[d.jsx(e.FlatList,{data:i,keyExtractor:e=>e.id,renderItem:({item:e,index:n})=>d.jsx(r,{message:e,isCurrentUser:e.senderId===c,onLongPress:()=>u?.(e),isFirstInSequence:n===i.length-1||i[n+1]?.senderId!==e.senderId}),ListHeaderComponent:d.jsx(s.TypingIndicator,{typingUsers:p||[],currentUserId:c}),showsVerticalScrollIndicator:!1,inverted:!0}),q?q():d.jsx(t,{onSendMessage:I,onTypingStart:g,onTypingEnd:x,onAttachmentPress:h,onAudioRecordEnd:j,onAudioRecordStart:U,onCameraPress:y,CustomEmojiIcon:A,CustomAttachmentIcon:S,CustomCameraIcon:v,CustomMicrophoneIcon:P,CustomSendIcon:M}),d.jsx(o,{imageUrl:m.imageUrl,videoUrl:m.videoUrl,onClose:()=>{C({imageUrl:"",videoUrl:""}),l(!1)}})]})};module.exports=e=>d.jsx(i.AudioProvider,{children:d.jsx(a.ChatProvider,{...e,children:d.jsx(c,{})})});
//# sourceMappingURL=index.js.map
