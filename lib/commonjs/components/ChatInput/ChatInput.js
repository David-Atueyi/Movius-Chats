"use strict";var e=require("../../assets/Icons/CameraIcon.js"),s=require("../../assets/Icons/EmojiFunnySquareIcon.js"),t=require("../../assets/Icons/MicrophoneIcon.js"),o=require("../../assets/Icons/PaperClipIcon.js"),r=require("../../assets/Icons/PaperPlaneIcon.js"),n=require("react"),l=require("react-native"),i=require("../../context/ChatContext.js"),a=require("twrnc"),c=require("react/jsx-runtime");const u="ios"===l.Platform.OS?32:30,h=({onSendMessage:h,onTypingStart:m,onTypingEnd:x,onAttachmentPress:p,onCameraPress:d,onAudioRecordStart:j,onAudioRecordEnd:C,CustomEmojiIcon:y,CustomAttachmentIcon:I,CustomCameraIcon:g,CustomSendIcon:P,CustomMicrophoneIcon:S})=>{const[w,b]=n.useState(""),[f,M]=n.useState({height:u,isMultiline:!1}),{theme:q,currentUserId:E,showEmojiButton:O,showAttachmentsButton:v,showCameraButton:A,showVoiceRecordButton:T,placeholder:B}=i.useChatContext(),V=n.useCallback((e=>{const s=Math.min(Math.max(e.nativeEvent.contentSize.height,u),118);M({height:s,isMultiline:s>u})}),[]),R=n.useCallback((()=>{w.trim()&&(h({text:w.trim(),senderId:E}),b(""),M({height:u,isMultiline:!1}))}),[w,h,E]);return n.useEffect((()=>{w.trim()?m?.():x?.()}),[w,m,x]),c.jsxs(l.View,{style:[a`flex-row gap-2`,q?.inputStyles?.inputSectionContainerStyle],children:[c.jsxs(l.View,{style:[a`flex-1 bg-white px-3.5 gap-1 flex-row justify-between`,f.isMultiline?a`rounded-3xl items-end`:a`rounded-full items-center`,q?.inputStyles?.inputContainerStyle],children:[O&&c.jsx(l.Pressable,{children:y?c.jsx(y,{}):c.jsx(s.EmojiFunnySquareIcon,{style:a.style(""+("ios"===l.Platform.OS?"h-6 w-6":"w-7 h-7"),f.isMultiline?"pb-14":"pb-0"),color:q?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),c.jsx(l.TextInput,{value:w,onChangeText:b,placeholder:B||"Message",style:[a`bg-transparent flex-1 pl-2 my-3`,"ios"===l.Platform.OS?a`text-[17px]`:a`text-[16px]`,{minHeight:u,maxHeight:118}],placeholderTextColor:q?.colors?.placeholderTextColor||"rgba(0, 0, 0, 0.4)",multiline:!0,textAlignVertical:"center",onContentSizeChange:V}),c.jsxs(l.View,{style:[a`gap-4 flex-row`,f.isMultiline?a`pb-4`:a`pb-0`],children:[v&&c.jsx(l.Pressable,{onPress:p,children:I?c.jsx(I,{}):c.jsx(o.PaperClipIcon,{style:a.style("ios"===l.Platform.OS?"h-6 w-6":"w-7 h-7"),color:q?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),A&&!w.trim()&&c.jsx(l.Pressable,{onPress:d,children:g?c.jsx(g,{}):c.jsx(e.CameraIcon,{style:a.style("ios"===l.Platform.OS?"h-6 w-6":"w-7 h-7"),color:q?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})})]})]}),c.jsx(l.Pressable,{style:[a`p-2 rounded-full bg-green-600 justify-center items-center`,{height:"ios"===l.Platform.OS?50:48,width:"ios"===l.Platform.OS?50:48,...q?.inputStyles?.sendButtonStyle}],onPress:w.trim()?R:j,onLongPress:j,onPressOut:C,children:w.trim()?P?c.jsx(P,{}):c.jsx(r.PaperPlaneIcon,{style:a.style("h-6 w-6"),color:q?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):T?S?c.jsx(S,{}):c.jsx(t.MicrophoneIcon,{style:a.style("h-8 w-8"),color:q?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):P?c.jsx(P,{}):c.jsx(r.PaperPlaneIcon,{style:a.style("h-6 w-6"),color:q?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"})})]})};var m=n.memo(h);module.exports=m;
//# sourceMappingURL=ChatInput.js.map
