"use strict";var e=require("react"),s=require("react-native"),t=require("twrnc"),o=require("../../assets/Icons/CameraIcon.js"),r=require("../../assets/Icons/EmojiFunnySquareIcon.js"),n=require("../../assets/Icons/MicrophoneIcon.js"),i=require("../../assets/Icons/PaperClipIcon.js"),l=require("../../assets/Icons/PaperPlaneIcon.js"),a=require("../../context/ChatContext.js"),c=require("./FilePreview.js"),u=require("react/jsx-runtime");const h="ios"===s.Platform.OS?32:30,m=({onSendMessage:m,onTypingStart:x,onTypingEnd:p,onAttachmentPress:d,onCameraPress:C,onAudioRecordStart:j,onAudioRecordEnd:I,CustomEmojiIcon:P,CustomAttachmentIcon:w,CustomCameraIcon:g,CustomSendIcon:y,CustomMicrophoneIcon:S,CustomFileIcon:b,CustomImagePreview:f,CustomVideoPreview:v})=>{const[q,M]=e.useState(""),[E,O]=e.useState({height:h,isMultiline:!1}),{theme:V,currentUserId:A,showEmojiButton:T,showAttachmentsButton:B,showCameraButton:F,showVoiceRecordButton:R,placeholder:k,previewData:z,closePreview:D}=a.useChatContext(),H=e.useCallback((e=>{const s=Math.min(Math.max(e.nativeEvent.contentSize.height,h),118);O({height:s,isMultiline:s>h})}),[]),L=e.useCallback((()=>{const e=q.trim();(e||z)&&(m({text:e,senderId:A}),M(""),O({height:h,isMultiline:!1}))}),[q,m,A,z]);return e.useEffect((()=>{q.trim()?x?.():p?.()}),[q,x,p]),u.jsxs(s.View,{style:[t`flex-row gap-2`,V?.inputStyles?.inputSectionContainerStyle],children:[z&&u.jsx(c,{previewData:z,closePreview:D,CustomFileIcon:b,CustomImagePreview:f,CustomVideoPreview:v}),u.jsxs(s.View,{style:[t`flex-1 bg-white px-3.5 gap-1 flex-row justify-between`,E.isMultiline?t`rounded-3xl items-end`:t`rounded-full items-center`,V?.inputStyles?.inputContainerStyle],children:[T&&u.jsx(s.Pressable,{children:P?u.jsx(P,{}):u.jsx(r.EmojiFunnySquareIcon,{style:t.style(""+("ios"===s.Platform.OS?"h-6 w-6":"w-7 h-7"),E.isMultiline?"pb-14":"pb-0"),color:V?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),u.jsx(s.TextInput,{value:q,onChangeText:M,placeholder:k||"Message",style:[t`bg-transparent flex-1 pl-2 my-3`,"ios"===s.Platform.OS?t`text-[17px]`:t`text-[16px]`,{minHeight:h,maxHeight:118}],placeholderTextColor:V?.colors?.placeholderTextColor||"rgba(0, 0, 0, 0.4)",multiline:!0,textAlignVertical:"center",onContentSizeChange:H}),u.jsxs(s.View,{style:[t`gap-4 flex-row`,E.isMultiline?t`pb-4`:t`pb-0`],children:[B&&u.jsx(s.Pressable,{onPress:d,children:w?u.jsx(w,{}):u.jsx(i.PaperClipIcon,{style:t.style("ios"===s.Platform.OS?"h-6 w-6":"w-7 h-7"),color:V?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),F&&!q.trim()&&u.jsx(s.Pressable,{onPress:C,children:g?u.jsx(g,{}):u.jsx(o.CameraIcon,{style:t.style("ios"===s.Platform.OS?"h-6 w-6":"w-7 h-7"),color:V?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})})]})]}),u.jsx(s.Pressable,{style:[t`p-2 rounded-full bg-green-600 justify-center items-center`,{height:"ios"===s.Platform.OS?50:48,width:"ios"===s.Platform.OS?50:48,...V?.inputStyles?.sendButtonStyle}],onPress:q.trim()||z?L:j,onLongPress:j,onPressOut:I,children:q.trim()?y?u.jsx(y,{}):u.jsx(l.PaperPlaneIcon,{style:t.style("h-6 w-6"),color:V?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):R?S?u.jsx(S,{}):u.jsx(n.MicrophoneIcon,{style:t.style("h-8 w-8"),color:V?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):y?u.jsx(y,{}):u.jsx(l.PaperPlaneIcon,{style:t.style("h-6 w-6"),color:V?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"})})]})};var x=e.memo(m);module.exports=x;
//# sourceMappingURL=ChatInput.js.map
