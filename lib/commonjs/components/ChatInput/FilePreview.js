"use strict";var e=require("react"),i=require("react-native"),r=require("react-native-video"),t=require("../../assets/Icons/FileIcon.js"),s=require("../../context/ChatContext.js"),o=require("./TruncateFileName.js"),n=require("react/jsx-runtime");const d=({previewData:e,closePreview:d,CustomFileIcon:l,CustomImagePreview:a,CustomVideoPreview:u})=>{const{theme:c,setMediaUrl:h,setIsVideoPlaying:g}=s.useChatContext();if(!e)return null;const w=e.type?.startsWith("image/"),x=e.type?.startsWith("video/");return n.jsxs(i.Pressable,{style:[{position:"absolute",bottom:80,left:28,zIndex:10,borderRadius:12},c?.filePreviewStyle?.root],onPress:()=>{(w||x)&&(h({imageUrl:w?e.uri:"",videoUrl:x?e.uri:""}),x&&g(!0))},children:[n.jsx(i.Pressable,{onPress:d,style:{position:"absolute",zIndex:10,height:20,width:20,backgroundColor:"rgba(255, 255, 255, 0.5)",right:0,borderTopRightRadius:8,borderRadius:8,justifyContent:"center",alignItems:"center"},children:n.jsx(i.Text,{style:{fontSize:12,color:"black"},children:"X"})}),w?a?n.jsx(a,{uri:e.uri}):n.jsx(i.View,{style:{width:56,height:56,borderRadius:12,overflow:"hidden"},children:n.jsx(i.Image,{source:{uri:e.uri},style:{width:"100%",height:"100%",borderRadius:12},resizeMode:"cover"})}):x?u?n.jsx(u,{uri:e.uri}):n.jsx(i.View,{style:{width:56,height:56,borderRadius:12,overflow:"hidden"},children:n.jsx(r,{source:{uri:e.uri},style:{width:"100%",height:"100%",borderRadius:12},resizeMode:"cover",muted:!0,repeat:!0,paused:!1})}):n.jsxs(i.View,{style:[{backgroundColor:"white",width:240,height:64,borderRadius:12,flexDirection:"row",padding:4,gap:4,alignItems:"center"},c?.filePreviewStyle?.container],children:[n.jsx(i.View,{style:[{backgroundColor:"#d1d5db",borderRadius:8,padding:4,justifyContent:"center",alignItems:"center"},c?.filePreviewStyle?.iconContainer],children:l?n.jsx(l,{}):n.jsx(t.FileIcon,{style:{width:40,height:40},fill:"white"})}),n.jsx(i.View,{style:[{backgroundColor:"#f3f4f6",flex:1,borderRadius:8,justifyContent:"center",paddingHorizontal:12},c?.filePreviewStyle?.nameContainer],children:n.jsx(o,{fileName:e.name,style:c?.filePreviewStyle?.text})})]})]})};var l=e.memo(d);module.exports=l;
//# sourceMappingURL=FilePreview.js.map
