"use strict";var e=require("../../assets/Icons/LoadingIcon.js"),t=require("../../assets/Icons/XIcon.js"),r=require("react"),s=require("react-native"),i=require("react-native-image-zoom-viewer"),o=require("react-native-video"),n=require("twrnc"),l=require("react/jsx-runtime");const a=({imageUrl:a,videoUrl:u,onClose:c})=>{const d=r.useRef(null),[b,h]=r.useState(!1),[x,g]=r.useState(!1);return a||u?l.jsx(s.Modal,{visible:!!a||!!u,transparent:!0,children:l.jsxs(s.View,{style:n`top-0 bottom-0 left-0 right-0 bg-black/80 flex-1 absolute`,children:[l.jsx(s.Pressable,{onPress:c,style:n`absolute right-4 top-4 p-2 rounded-full bg-slate-100/70 z-10`,children:l.jsx(t.XIcon,{style:n`h-8 w-8 stroke-black`})}),a&&l.jsx(i,{imageUrls:[{url:a}],enableSwipeDown:!0,onSwipeDown:c,backgroundColor:"rgba(0,0,0,0.8)",enableImageZoom:!0,onSave:()=>a,renderIndicator:()=>l.jsx(l.Fragment,{})}),u&&l.jsxs(s.View,{style:n`justify-center items-center`,children:[l.jsx(o,{source:{uri:u},ref:d,shutterColor:"transparent",controls:!0,style:{width:"100%",height:"100%",borderRadius:8,position:"relative",marginHorizontal:48},controlsStyles:{hideSettingButton:!1,hideNext:!0,hidePrevious:!0},resizeMode:"contain",onLoadStart:()=>{h(!0),g(!1)},onLoad:()=>h(!1),onBuffer:({isBuffering:e})=>h(e),onError:()=>{g(!0),h(!1)}}),b&&l.jsx(s.View,{style:n`absolute inset-0 flex items-center justify-center bg-black/40 rounded-full`,children:l.jsx(e.LoadingIcon,{style:n.style("h-12 w-12 fill-white animate-spin")})}),x&&l.jsx(s.View,{style:n`absolute inset-0 flex items-center justify-center bg-red-500/60 p-2`,children:l.jsx(s.Text,{style:n`text-white font-bold`,children:"Failed to load video"})})]})]})}):null};var u=r.memo(a);module.exports=u;
//# sourceMappingURL=MediaViewer.js.map
