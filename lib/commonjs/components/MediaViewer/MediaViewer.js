"use strict";var e=require("react"),t=require("react-native"),r=require("react-native-image-zoom-viewer"),s=require("react-native-video"),i=require("twrnc"),n=require("../../assets/Icons/LoadingIcon.js"),o=require("../../assets/Icons/XIcon.js"),l=require("react/jsx-runtime");const a=({imageUrl:a,videoUrl:u,onClose:c})=>{const d=e.useRef(null),[g,x]=e.useState(!1),[b,h]=e.useState(!1);return a||u?l.jsx(t.Modal,{visible:!!a||!!u,transparent:!0,children:l.jsxs(t.View,{style:i`top-0 bottom-0 left-0 right-0 bg-black/80 flex-1 absolute`,children:[l.jsx(t.Pressable,{onPress:c,style:i`absolute right-4 top-4 p-2 rounded-full bg-slate-100/70 z-10`,children:l.jsx(o.XIcon,{style:i`h-8 w-8`})}),a&&l.jsx(r,{imageUrls:[{url:a}],enableSwipeDown:!0,onSwipeDown:c,backgroundColor:"rgba(0,0,0,0.8)",enableImageZoom:!0,onSave:()=>a,renderIndicator:()=>l.jsx(l.Fragment,{})}),u&&l.jsxs(t.View,{style:i`justify-center items-center`,children:[l.jsx(s,{source:{uri:u},ref:d,shutterColor:"transparent",controls:!0,style:{width:"100%",height:"100%",borderRadius:8,position:"relative",marginHorizontal:48},controlsStyles:{hideSettingButton:!1,hideNext:!0,hidePrevious:!0},resizeMode:"contain",onLoadStart:()=>{x(!0),h(!1)},onLoad:()=>x(!1),onBuffer:({isBuffering:e})=>x(e),onError:()=>{h(!0),x(!1)}}),g&&l.jsx(t.View,{style:i`absolute inset-0 flex items-center justify-center bg-black/40 rounded-full`,children:l.jsx(n.LoadingIcon,{style:i.style("h-12 w-12"),spinning:!0})}),b&&l.jsx(t.View,{style:i`absolute inset-0 flex items-center justify-center bg-red-500/60 p-2`,children:l.jsx(t.Text,{style:i`text-white font-bold`,children:"Failed to load video"})})]})]})}):null};var u=e.memo(a);module.exports=u;
//# sourceMappingURL=MediaViewer.js.map
