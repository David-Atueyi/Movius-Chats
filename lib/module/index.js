import"react";import{View as e,FlatList as o}from"react-native";import n from"twrnc";import t from"./components/ChatBubble/ChatBubble.js";import r from"./components/ChatInput/ChatInput.js";import s from"./components/MediaViewer/MediaViewer.js";import{TypingIndicator as i}from"./components/TypingComponent/TypingIndicator.js";import{AudioProvider as m}from"./context/AudioContext.js";import{ChatProvider as a,useChatContext as d}from"./context/ChatContext.js";import{jsx as c,jsxs as p}from"react/jsx-runtime";const u=()=>{const{messages:m,currentUserId:a,onMessageLongPress:u,mediaUrl:C,setMediaUrl:l,setIsVideoPlaying:I,typingUsers:g,onSendMessage:h,onTypingStart:U,onTypingEnd:f,onAttachmentPress:y,onAudioRecordEnd:x,onAudioRecordStart:S,onCameraPress:j,renderCustomInput:A,CustomEmojiIcon:M,CustomAttachmentIcon:E,CustomCameraIcon:P,CustomMicrophoneIcon:v,CustomSendIcon:T}=d();return p(e,{style:n`flex-1 px-2 pb-4 gap-2 relative`,children:[c(o,{data:m,keyExtractor:e=>e.id,renderItem:({item:e,index:o})=>c(t,{message:e,isCurrentUser:e.senderId===a,onLongPress:()=>u?.(e),isFirstInSequence:o===m.length-1||m[o+1]?.senderId!==e.senderId}),ListHeaderComponent:c(i,{typingUsers:g||[],currentUserId:a}),showsVerticalScrollIndicator:!1,inverted:!0}),A?A():c(r,{onSendMessage:h,onTypingStart:U,onTypingEnd:f,onAttachmentPress:y,onAudioRecordEnd:x,onAudioRecordStart:S,onCameraPress:j,CustomEmojiIcon:M,CustomAttachmentIcon:E,CustomCameraIcon:P,CustomMicrophoneIcon:v,CustomSendIcon:T}),c(s,{imageUrl:C.imageUrl,videoUrl:C.videoUrl,onClose:()=>{l({imageUrl:"",videoUrl:""}),I(!1)}})]})},C=e=>c(m,{children:c(a,{...e,children:c(u,{})})});export{C as default};
//# sourceMappingURL=index.js.map
