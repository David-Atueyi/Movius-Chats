import"react";import{View as e,FlatList as o}from"react-native";import t from"twrnc";import n from"./components/ChatBubble/ChatBubble.js";import r from"./components/ChatInput/ChatInput.js";import s from"./components/MediaViewer/MediaViewer.js";import{TypingIndicator as i}from"./components/TypingComponent/TypingIndicator.js";import{AudioProvider as m}from"./context/AudioContext.js";import{ChatProvider as a,useChatContext as d}from"./context/ChatContext.js";import{jsx as c,jsxs as u}from"react/jsx-runtime";const p=()=>{const{messages:m,currentUserId:a,onMessageLongPress:p,mediaUrl:C,setMediaUrl:I,setIsVideoPlaying:l,typingUsers:g,onSendMessage:h,onTypingStart:U,onTypingEnd:f,onAttachmentPress:y,onAudioRecordEnd:P,onAudioRecordStart:v,onCameraPress:x,renderCustomInput:S,CustomEmojiIcon:j,CustomAttachmentIcon:A,CustomCameraIcon:w,CustomMicrophoneIcon:M,CustomSendIcon:E,CustomFileIcon:T,CustomImagePreview:V,CustomVideoPreview:b}=d();return u(e,{style:t`flex-1 px-2 pb-4 gap-2 relative`,children:[c(o,{data:m,keyExtractor:e=>e.id,renderItem:({item:e,index:o})=>c(n,{message:e,isCurrentUser:e.senderId===a,onLongPress:()=>p?.(e),isFirstInSequence:o===m.length-1||m[o+1]?.senderId!==e.senderId}),ListHeaderComponent:c(i,{typingUsers:g||[],currentUserId:a}),showsVerticalScrollIndicator:!1,inverted:!0}),S?S():c(r,{onSendMessage:h,onTypingStart:U,onTypingEnd:f,onAttachmentPress:y,onAudioRecordEnd:P,onAudioRecordStart:v,onCameraPress:x,CustomEmojiIcon:j,CustomAttachmentIcon:A,CustomCameraIcon:w,CustomMicrophoneIcon:M,CustomSendIcon:E,CustomFileIcon:T,CustomImagePreview:V,CustomVideoPreview:b}),c(s,{imageUrl:C.imageUrl,videoUrl:C.videoUrl,onClose:()=>{I({imageUrl:"",videoUrl:""}),l(!1)}})]})},C=e=>c(m,{children:c(a,{...e,children:c(p,{})})});export{C as default};
//# sourceMappingURL=index.js.map
