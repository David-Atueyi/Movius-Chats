{"version":3,"file":"index.js","sources":["../../src/index.tsx"],"sourcesContent":["import React from 'react';\nimport { FlatList, View } from 'react-native';\nimport tw from 'twrnc';\nimport ChatBubble from './components/ChatBubble/ChatBubble';\nimport ChatInput from './components/ChatInput/ChatInput';\nimport MediaViewer from './components/MediaViewer/MediaViewer';\nimport { TypingIndicator } from './components/TypingComponent/TypingIndicator';\nimport { AudioProvider } from './context/AudioContext';\nimport { ChatProvider, useChatContext } from './context/ChatContext';\nimport { ChatScreenProps } from './types';\n\nconst ChatScreenContent = () => {\n  const {\n    messages,\n    currentUserId,\n    onMessageLongPress,\n    mediaUrl,\n    setMediaUrl,\n    setIsVideoPlaying,\n    typingUsers,\n    onSendMessage,\n    onTypingStart,\n    onTypingEnd,\n    onAttachmentPress,\n    onAudioRecordEnd,\n    onAudioRecordStart,\n    onCameraPress,\n    renderCustomInput,\n    CustomEmojiIcon,\n    CustomAttachmentIcon,\n    CustomCameraIcon,\n    CustomMicrophoneIcon,\n    CustomSendIcon,\n    CustomFileIcon,\n    CustomImagePreview,\n    CustomVideoPreview,\n  } = useChatContext();\n\n  return (\n    <View style={tw`flex-1 px-2 pb-4 gap-2 relative`}>\n      <FlatList\n        data={messages}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item, index }) => (\n          <ChatBubble\n            message={item}\n            isCurrentUser={item.senderId === currentUserId}\n            onLongPress={() => onMessageLongPress?.(item)}\n            isFirstInSequence={\n              index === messages.length - 1 ||\n              messages[index + 1]?.senderId !== item.senderId\n            }\n          />\n        )}\n        ListHeaderComponent={\n          <TypingIndicator\n            typingUsers={typingUsers || []}\n            currentUserId={currentUserId}\n          />\n        }\n        showsVerticalScrollIndicator={false}\n        inverted\n      />\n\n      {renderCustomInput ? (\n        renderCustomInput()\n      ) : (\n        <ChatInput\n          onSendMessage={onSendMessage}\n          onTypingStart={onTypingStart}\n          onTypingEnd={onTypingEnd}\n          onAttachmentPress={onAttachmentPress}\n          onAudioRecordEnd={onAudioRecordEnd}\n          onAudioRecordStart={onAudioRecordStart}\n          onCameraPress={onCameraPress}\n          CustomEmojiIcon={CustomEmojiIcon}\n          CustomAttachmentIcon={CustomAttachmentIcon}\n          CustomCameraIcon={CustomCameraIcon}\n          CustomMicrophoneIcon={CustomMicrophoneIcon}\n          CustomSendIcon={CustomSendIcon}\n          CustomFileIcon={CustomFileIcon}\n          CustomImagePreview={CustomImagePreview}\n          CustomVideoPreview={CustomVideoPreview}\n        />\n      )}\n\n      <MediaViewer\n        imageUrl={mediaUrl.imageUrl}\n        videoUrl={mediaUrl.videoUrl}\n        onClose={() => {\n          setMediaUrl({ imageUrl: '', videoUrl: '' });\n          setIsVideoPlaying(false);\n        }}\n      />\n    </View>\n  );\n};\n\nconst ChatScreen: React.FC<ChatScreenProps> = (props) => {\n  return (\n    <AudioProvider>\n      <ChatProvider {...props}>\n        <ChatScreenContent />\n      </ChatProvider>\n    </AudioProvider>\n  );\n};\n\nexport default ChatScreen;\n"],"names":["ChatScreenContent","messages","currentUserId","onMessageLongPress","mediaUrl","setMediaUrl","setIsVideoPlaying","typingUsers","onSendMessage","onTypingStart","onTypingEnd","onAttachmentPress","onAudioRecordEnd","onAudioRecordStart","onCameraPress","renderCustomInput","CustomEmojiIcon","CustomAttachmentIcon","CustomCameraIcon","CustomMicrophoneIcon","CustomSendIcon","CustomFileIcon","CustomImagePreview","CustomVideoPreview","useChatContext","_jsxs","View","style","tw","children","_jsx","FlatList","data","keyExtractor","item","id","renderItem","index","ChatBubble","message","isCurrentUser","senderId","onLongPress","isFirstInSequence","length","ListHeaderComponent","TypingIndicator","showsVerticalScrollIndicator","inverted","ChatInput","MediaViewer","imageUrl","videoUrl","onClose","ChatScreen","props","AudioProvider","ChatProvider"],"mappings":"8fAWA,MAAMA,EAAoBA,KACxB,MAAMC,SACJA,EAAQC,cACRA,EAAaC,mBACbA,EAAkBC,SAClBA,EAAQC,YACRA,EAAWC,kBACXA,EAAiBC,YACjBA,EAAWC,cACXA,EAAaC,cACbA,EAAaC,YACbA,EAAWC,kBACXA,EAAiBC,iBACjBA,EAAgBC,mBAChBA,EAAkBC,cAClBA,EAAaC,kBACbA,EAAiBC,gBACjBA,EAAeC,qBACfA,EAAoBC,iBACpBA,EAAgBC,qBAChBA,EAAoBC,eACpBA,EAAcC,eACdA,EAAcC,mBACdA,EAAkBC,mBAClBA,GACEC,IAEJ,OACEC,EAACC,EAAI,CAACC,MAAOC,CAAE,kCAAkCC,SAAA,CAC/CC,EAACC,EAAQ,CACPC,KAAM/B,EACNgC,aAAeC,GAASA,EAAKC,GAC7BC,WAAYA,EAAGF,OAAMG,WACnBP,EAACQ,EAAU,CACTC,QAASL,EACTM,cAAeN,EAAKO,WAAavC,EACjCwC,YAAaA,IAAMvC,IAAqB+B,GACxCS,kBACEN,IAAUpC,EAAS2C,OAAS,GAC5B3C,EAASoC,EAAQ,IAAII,WAAaP,EAAKO,WAI7CI,oBACEf,EAACgB,EAAe,CACdvC,YAAaA,GAAe,GAC5BL,cAAeA,IAGnB6C,8BAA8B,EAC9BC,UAAQ,IAGTjC,EACCA,IAEAe,EAACmB,EAAS,CACRzC,cAAeA,EACfC,cAAeA,EACfC,YAAaA,EACbC,kBAAmBA,EACnBC,iBAAkBA,EAClBC,mBAAoBA,EACpBC,cAAeA,EACfE,gBAAiBA,EACjBC,qBAAsBA,EACtBC,iBAAkBA,EAClBC,qBAAsBA,EACtBC,eAAgBA,EAChBC,eAAgBA,EAChBC,mBAAoBA,EACpBC,mBAAoBA,IAIxBO,EAACoB,EAAW,CACVC,SAAU/C,EAAS+C,SACnBC,SAAUhD,EAASgD,SACnBC,QAASA,KACPhD,EAAY,CAAE8C,SAAU,GAAIC,SAAU,KACtC9C,GAAkB,EAAM,MAGvB,EAILgD,EAAyCC,GAE3CzB,EAAC0B,EAAa,CAAA3B,SACZC,EAAC2B,EAAY,IAAKF,EAAK1B,SACrBC,EAAC9B,EAAmB,CAAA"}