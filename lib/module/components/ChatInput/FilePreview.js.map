{"version":3,"file":"FilePreview.js","sources":["../../../../src/components/ChatInput/FilePreview.tsx"],"sourcesContent":["import React from 'react';\nimport { Image, Pressable, Text, View } from 'react-native';\nimport Video from 'react-native-video';\nimport { FileIcon } from '../../assets/Icons/FileIcon';\nimport { useChatContext } from '../../context/ChatContext';\nimport TruncateFileName from './TruncateFileName';\nimport { ChatInputProps } from './types';\n\nconst FilePreview: React.FC<Omit<ChatInputProps, 'onSendMessage'>> = ({\n  previewData,\n  closePreview,\n  CustomFileIcon,\n  CustomImagePreview,\n  CustomVideoPreview,\n}) => {\n  const { theme, setMediaUrl, setIsVideoPlaying } = useChatContext();\n  if (!previewData) return null;\n  const isImage = previewData.type?.startsWith('image/');\n  const isVideo = previewData.type?.startsWith('video/');\n\n  return (\n    <Pressable\n      style={[\n        // Default style\n        {\n          position: 'absolute',\n          bottom: 80,\n          left: 28,\n          zIndex: 10,\n          borderRadius: 12,\n        },\n        // Custom style overrides\n        theme?.filePreviewStyle?.root,\n      ]}\n      onPress={() => {\n        if (isImage || isVideo) {\n          setMediaUrl({\n            imageUrl: isImage ? previewData.uri : '',\n            videoUrl: isVideo ? previewData.uri : '',\n          });\n          if (isVideo) setIsVideoPlaying(true);\n        }\n      }}\n    >\n      <Pressable\n        onPress={closePreview}\n        style={{\n          position: 'absolute',\n          zIndex: 10,\n          height: 20,\n          width: 20,\n          backgroundColor: 'rgba(255, 255, 255, 0.5)',\n          right: 0,\n          borderTopRightRadius: 8,\n          borderRadius: 8,\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <Text style={{ fontSize: 12, color: 'black' }}>X</Text>\n      </Pressable>\n\n      {isImage ? (\n        CustomImagePreview ? (\n          <CustomImagePreview uri={previewData.uri} />\n        ) : (\n          <View\n            style={{\n              width: 56,\n              height: 56,\n              borderRadius: 12,\n              overflow: 'hidden',\n            }}\n          >\n            <Image\n              source={{ uri: previewData.uri }}\n              style={{ width: '100%', height: '100%', borderRadius: 12 }}\n              resizeMode=\"cover\"\n            />\n          </View>\n        )\n      ) : isVideo ? (\n        CustomVideoPreview ? (\n          <CustomVideoPreview uri={previewData.uri} />\n        ) : (\n          <View\n            style={{\n              width: 56,\n              height: 56,\n              borderRadius: 12,\n              overflow: 'hidden',\n            }}\n          >\n            <Video\n              source={{ uri: previewData.uri }}\n              style={{ width: '100%', height: '100%', borderRadius: 12 }}\n              resizeMode=\"cover\"\n              muted\n              repeat\n              paused={false}\n            />\n          </View>\n        )\n      ) : (\n        <View\n          style={[\n            {\n              backgroundColor: 'white',\n              width: 240,\n              height: 64,\n              borderRadius: 12,\n              flexDirection: 'row',\n              padding: 4,\n              gap: 4,\n              alignItems: 'center',\n            },\n            theme?.filePreviewStyle?.container,\n          ]}\n        >\n          <View\n            style={[\n              {\n                backgroundColor: '#d1d5db',\n                borderRadius: 8,\n                padding: 4,\n                justifyContent: 'center',\n                alignItems: 'center',\n              },\n              theme?.filePreviewStyle?.iconContainer,\n            ]}\n          >\n            {CustomFileIcon ? (\n              <CustomFileIcon />\n            ) : (\n              <FileIcon style={{ width: 40, height: 40 }} fill=\"white\" />\n            )}\n          </View>\n          <View\n            style={[\n              {\n                backgroundColor: '#f3f4f6',\n                flex: 1,\n                borderRadius: 8,\n                justifyContent: 'center',\n                paddingHorizontal: 12,\n              },\n              theme?.filePreviewStyle?.nameContainer,\n            ]}\n          >\n            <TruncateFileName\n              fileName={previewData.name}\n              style={theme?.filePreviewStyle?.text}\n            />\n          </View>\n        </View>\n      )}\n    </Pressable>\n  );\n};\n\nexport default React.memo(FilePreview);\n"],"names":["FilePreview","previewData","closePreview","CustomFileIcon","CustomImagePreview","CustomVideoPreview","theme","setMediaUrl","setIsVideoPlaying","useChatContext","isImage","type","startsWith","isVideo","_jsxs","Pressable","style","position","bottom","left","zIndex","borderRadius","filePreviewStyle","root","onPress","imageUrl","uri","videoUrl","children","_jsx","height","width","backgroundColor","right","borderTopRightRadius","justifyContent","alignItems","Text","fontSize","color","View","overflow","Image","source","resizeMode","Video","muted","repeat","paused","flexDirection","padding","gap","container","iconContainer","FileIcon","fill","flex","paddingHorizontal","nameContainer","TruncateFileName","fileName","name","text","FilePreview$1","React","memo"],"mappings":"8UAQA,MAAMA,EAA+DA,EACnEC,cACAC,eACAC,iBACAC,qBACAC,yBAEA,MAAMC,MAAEA,EAAKC,YAAEA,EAAWC,kBAAEA,GAAsBC,IAClD,IAAKR,EAAa,OAAO,KACzB,MAAMS,EAAUT,EAAYU,MAAMC,WAAW,UACvCC,EAAUZ,EAAYU,MAAMC,WAAW,UAE7C,OACEE,EAACC,EAAS,CACRC,MAAO,CAEL,CACEC,SAAU,WACVC,OAAQ,GACRC,KAAM,GACNC,OAAQ,GACRC,aAAc,IAGhBf,GAAOgB,kBAAkBC,MAE3BC,QAASA,MACHd,GAAWG,KACbN,EAAY,CACVkB,SAAUf,EAAUT,EAAYyB,IAAM,GACtCC,SAAUd,EAAUZ,EAAYyB,IAAM,KAEpCb,GAASL,GAAkB,GACjC,EACAoB,SAAA,CAEFC,EAACd,EAAS,CACRS,QAAStB,EACTc,MAAO,CACLC,SAAU,WACVG,OAAQ,GACRU,OAAQ,GACRC,MAAO,GACPC,gBAAiB,2BACjBC,MAAO,EACPC,qBAAsB,EACtBb,aAAc,EACdc,eAAgB,SAChBC,WAAY,UACZR,SAEFC,EAACQ,EAAI,CAACrB,MAAO,CAAEsB,SAAU,GAAIC,MAAO,SAAUX,SAAC,QAGhDlB,EACCN,EACEyB,EAACzB,EAAkB,CAACsB,IAAKzB,EAAYyB,MAErCG,EAACW,EAAI,CACHxB,MAAO,CACLe,MAAO,GACPD,OAAQ,GACRT,aAAc,GACdoB,SAAU,UACVb,SAEFC,EAACa,EAAK,CACJC,OAAQ,CAAEjB,IAAKzB,EAAYyB,KAC3BV,MAAO,CAAEe,MAAO,OAAQD,OAAQ,OAAQT,aAAc,IACtDuB,WAAW,YAIf/B,EACFR,EACEwB,EAACxB,EAAkB,CAACqB,IAAKzB,EAAYyB,MAErCG,EAACW,EAAI,CACHxB,MAAO,CACLe,MAAO,GACPD,OAAQ,GACRT,aAAc,GACdoB,SAAU,UACVb,SAEFC,EAACgB,EAAK,CACJF,OAAQ,CAAEjB,IAAKzB,EAAYyB,KAC3BV,MAAO,CAAEe,MAAO,OAAQD,OAAQ,OAAQT,aAAc,IACtDuB,WAAW,QACXE,OAAK,EACLC,QAAM,EACNC,QAAQ,MAKdlC,EAAC0B,EAAI,CACHxB,MAAO,CACL,CACEgB,gBAAiB,QACjBD,MAAO,IACPD,OAAQ,GACRT,aAAc,GACd4B,cAAe,MACfC,QAAS,EACTC,IAAK,EACLf,WAAY,UAEd9B,GAAOgB,kBAAkB8B,WACzBxB,SAAA,CAEFC,EAACW,EAAI,CACHxB,MAAO,CACL,CACEgB,gBAAiB,UACjBX,aAAc,EACd6B,QAAS,EACTf,eAAgB,SAChBC,WAAY,UAEd9B,GAAOgB,kBAAkB+B,eACzBzB,SAEDzB,EACC0B,EAAC1B,EAAc,CAAA,GAEf0B,EAACyB,EAAQ,CAACtC,MAAO,CAAEe,MAAO,GAAID,OAAQ,IAAMyB,KAAK,YAGrD1B,EAACW,EAAI,CACHxB,MAAO,CACL,CACEgB,gBAAiB,UACjBwB,KAAM,EACNnC,aAAc,EACdc,eAAgB,SAChBsB,kBAAmB,IAErBnD,GAAOgB,kBAAkBoC,eACzB9B,SAEFC,EAAC8B,EAAgB,CACfC,SAAU3D,EAAY4D,KACtB7C,MAAOV,GAAOgB,kBAAkBwC,cAK9B,EAIhB,IAAAC,EAAeC,EAAMC,KAAKjE"}