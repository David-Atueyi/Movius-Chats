import e from"react";import{Pressable as t,Text as r,View as i,Image as o}from"react-native";import n from"react-native-video";import{FileIcon as d}from"../../assets/Icons/FileIcon.js";import{useChatContext as s}from"../../context/ChatContext.js";import l from"./TruncateFileName.js";import{jsxs as a,jsx as u}from"react/jsx-runtime";const c=({previewData:e,closePreview:c,CustomFileIcon:h,CustomImagePreview:m,CustomVideoPreview:f})=>{const{theme:g,setMediaUrl:y,setIsVideoPlaying:w}=s();if(!e)return null;const b=e.type?.startsWith("image/"),p=e.type?.startsWith("video/");return a(t,{style:[{position:"absolute",bottom:80,left:28,zIndex:10,borderRadius:12},g?.filePreviewStyle?.root],onPress:()=>{(b||p)&&(y({imageUrl:b?e.uri:"",videoUrl:p?e.uri:""}),p&&w(!0))},children:[u(t,{onPress:c,style:{position:"absolute",zIndex:10,height:20,width:20,backgroundColor:"rgba(255, 255, 255, 0.5)",right:0,borderTopRightRadius:8,borderRadius:8,justifyContent:"center",alignItems:"center"},children:u(r,{style:{fontSize:12,color:"black"},children:"X"})}),b?m?u(m,{uri:e.uri}):u(i,{style:{width:56,height:56,borderRadius:12,overflow:"hidden"},children:u(o,{source:{uri:e.uri},style:{width:"100%",height:"100%",borderRadius:12},resizeMode:"cover"})}):p?f?u(f,{uri:e.uri}):u(i,{style:{width:56,height:56,borderRadius:12,overflow:"hidden"},children:u(n,{source:{uri:e.uri},style:{width:"100%",height:"100%",borderRadius:12},resizeMode:"cover",muted:!0,repeat:!0,paused:!1})}):a(i,{style:[{backgroundColor:"white",width:240,height:64,borderRadius:12,flexDirection:"row",padding:4,gap:4,alignItems:"center"},g?.filePreviewStyle?.container],children:[u(i,{style:[{backgroundColor:"#d1d5db",borderRadius:8,padding:4,justifyContent:"center",alignItems:"center"},g?.filePreviewStyle?.iconContainer],children:h?u(h,{}):u(d,{style:{width:40,height:40},fill:"white"})}),u(i,{style:[{backgroundColor:"#f3f4f6",flex:1,borderRadius:8,justifyContent:"center",paddingHorizontal:12},g?.filePreviewStyle?.nameContainer],children:u(l,{fileName:e.name,style:g?.filePreviewStyle?.text})})]})]})};var h=e.memo(c);export{h as default};
//# sourceMappingURL=FilePreview.js.map
