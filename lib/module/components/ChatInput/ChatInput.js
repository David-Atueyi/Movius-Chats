import{CameraIcon as e}from"../../assets/Icons/CameraIcon.js";import{EmojiFunnySquareIcon as o}from"../../assets/Icons/EmojiFunnySquareIcon.js";import{MicrophoneIcon as t}from"../../assets/Icons/MicrophoneIcon.js";import{PaperClipIcon as n}from"../../assets/Icons/PaperClipIcon.js";import{PaperPlaneIcon as s}from"../../assets/Icons/PaperPlaneIcon.js";import r,{useState as i,useCallback as l,useEffect as c}from"react";import{Platform as a,View as m,Pressable as h,TextInput as p}from"react-native";import{useChatContext as u}from"../../context/ChatContext.js";import d from"twrnc";import{jsxs as g,jsx as y}from"react/jsx-runtime";const C="ios"===a.OS?32:30,I=({onSendMessage:r,onTypingStart:I,onTypingEnd:x,onAttachmentPress:S,onCameraPress:f,onAudioRecordStart:w,onAudioRecordEnd:b,CustomEmojiIcon:j,CustomAttachmentIcon:M,CustomCameraIcon:P,CustomSendIcon:O,CustomMicrophoneIcon:A})=>{const[E,v]=i(""),[B,T]=i({height:C,isMultiline:!1}),{theme:R,currentUserId:z,showEmojiButton:H,showAttachmentsButton:V,showCameraButton:q,showVoiceRecordButton:F,placeholder:L}=u(),U=l((e=>{const o=Math.min(Math.max(e.nativeEvent.contentSize.height,C),118);T({height:o,isMultiline:o>C})}),[]),k=l((()=>{E.trim()&&(r({text:E.trim(),senderId:z}),v(""),T({height:C,isMultiline:!1}))}),[E,r,z]);return c((()=>{E.trim()?I?.():x?.()}),[E,I,x]),g(m,{style:[d`flex-row gap-2`,R?.inputStyles?.inputSectionContainerStyle],children:[g(m,{style:[d`flex-1 bg-white px-3.5 gap-1 flex-row justify-between`,B.isMultiline?d`rounded-3xl items-end`:d`rounded-full items-center`,R?.inputStyles?.inputContainerStyle],children:[H&&y(h,{children:j?y(j,{}):y(o,{style:d.style(""+("ios"===a.OS?"h-6 w-6":"w-7 h-7"),B.isMultiline?"pb-14":"pb-0"),color:R?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),y(p,{value:E,onChangeText:v,placeholder:L||"Message",style:[d`bg-transparent flex-1 pl-2 my-3`,"ios"===a.OS?d`text-[17px]`:d`text-[16px]`,{minHeight:C,maxHeight:118}],placeholderTextColor:R?.colors?.placeholderTextColor||"rgba(0, 0, 0, 0.4)",multiline:!0,textAlignVertical:"center",onContentSizeChange:U}),g(m,{style:[d`gap-4 flex-row`,B.isMultiline?d`pb-4`:d`pb-0`],children:[V&&y(h,{onPress:S,children:M?y(M,{}):y(n,{style:d.style("ios"===a.OS?"h-6 w-6":"w-7 h-7"),color:R?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})}),q&&!E.trim()&&y(h,{onPress:f,children:P?y(P,{}):y(e,{style:d.style("ios"===a.OS?"h-6 w-6":"w-7 h-7"),color:R?.colors?.inputsIconsColor||"rgba(0,0,0,0.7)"})})]})]}),y(h,{style:[d`p-2 rounded-full bg-green-600 justify-center items-center`,{height:"ios"===a.OS?50:48,width:"ios"===a.OS?50:48,...R?.inputStyles?.sendButtonStyle}],onPress:E.trim()?k:w,onLongPress:w,onPressOut:b,children:E.trim()?O?y(O,{}):y(s,{style:d.style("h-6 w-6"),color:R?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):F?A?y(A,{}):y(t,{style:d.style("h-8 w-8"),color:R?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"}):O?y(O,{}):y(s,{style:d.style("h-6 w-6"),color:R?.colors?.sendIconsColor||"rgba(255,255,255,0.7)"})})]})};var x=r.memo(I);export{x as default};
//# sourceMappingURL=ChatInput.js.map
