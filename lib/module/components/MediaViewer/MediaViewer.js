import{LoadingIcon as e}from"../../assets/Icons/LoadingIcon.js";import{XIcon as t}from"../../assets/Icons/XIcon.js";import r,{useRef as o,useState as i}from"react";import{Modal as n,View as l,Pressable as s,Text as a}from"react-native";import c from"react-native-image-zoom-viewer";import d from"react-native-video";import m from"twrnc";import{jsx as u,jsxs as f,Fragment as h}from"react/jsx-runtime";const b=({imageUrl:r,videoUrl:b,onClose:p})=>{const g=o(null),[y,v]=i(!1),[w,x]=i(!1);return r||b?u(n,{visible:!!r||!!b,transparent:!0,children:f(l,{style:m`top-0 bottom-0 left-0 right-0 bg-black/80 flex-1 absolute`,children:[u(s,{onPress:p,style:m`absolute right-4 top-4 p-2 rounded-full bg-slate-100/70 z-10`,children:u(t,{style:m`h-8 w-8 stroke-black`})}),r&&u(c,{imageUrls:[{url:r}],enableSwipeDown:!0,onSwipeDown:p,backgroundColor:"rgba(0,0,0,0.8)",enableImageZoom:!0,onSave:()=>r,renderIndicator:()=>u(h,{})}),b&&f(l,{style:m`justify-center items-center`,children:[u(d,{source:{uri:b},ref:g,shutterColor:"transparent",controls:!0,style:{width:"100%",height:"100%",borderRadius:8,position:"relative",marginHorizontal:48},controlsStyles:{hideSettingButton:!1,hideNext:!0,hidePrevious:!0},resizeMode:"contain",onLoadStart:()=>{v(!0),x(!1)},onLoad:()=>v(!1),onBuffer:({isBuffering:e})=>v(e),onError:()=>{x(!0),v(!1)}}),y&&u(l,{style:m`absolute inset-0 flex items-center justify-center bg-black/40 rounded-full`,children:u(e,{style:m.style("h-12 w-12 fill-white animate-spin")})}),w&&u(l,{style:m`absolute inset-0 flex items-center justify-center bg-red-500/60 p-2`,children:u(a,{style:m`text-white font-bold`,children:"Failed to load video"})})]})]})}):null};var p=r.memo(b);export{p as default};
//# sourceMappingURL=MediaViewer.js.map
